{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///F:/Projects/Odoo_Hackathon_Human_Resource_Management_System/src/components/DashboardLayout.tsx"],"sourcesContent":["\"use client\";\n\nimport Link from \"next/link\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\nimport {\n  Users,\n  Calendar,\n  Clock,\n  Wallet,\n  LogOut,\n  User,\n  ChevronDown,\n  Menu,\n  X,\n} from \"lucide-react\";\nimport { useState, useRef, useEffect } from \"react\";\n\nconst navigation = [\n  { name: \"Employees\", href: \"/employees\", icon: Users },\n  { name: \"Attendance\", href: \"/attendance\", icon: Clock },\n  { name: \"Leave\", href: \"/leave\", icon: Calendar },\n  { name: \"Payroll\", href: \"/payroll\", icon: Wallet, adminOnly: true },\n];\n\nexport function DashboardLayout({ children }: { children: React.ReactNode }) {\n  const { user, logout } = useAuth();\n  const pathname = usePathname();\n  const router = useRouter();\n  const [showDropdown, setShowDropdown] = useState(false);\n  const [showMobileMenu, setShowMobileMenu] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setShowDropdown(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  const handleLogout = async () => {\n    await logout();\n    router.push(\"/\");\n  };\n\n  const isAdminOrHR = user?.role === \"admin\" || user?.role === \"hr\";\n\n  const filteredNav = navigation.filter(\n    (item) => !item.adminOnly || isAdminOrHR\n  );\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <nav className=\"bg-white shadow-sm border-b border-gray-200 fixed top-0 left-0 right-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between h-16\">\n            <div className=\"flex items-center\">\n              <Link href=\"/employees\" className=\"flex items-center gap-2\">\n                <div className=\"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-sm font-bold text-white\">D</span>\n                </div>\n                <span className=\"text-lg font-semibold text-gray-900 hidden sm:block\">\n                  Dayflow\n                </span>\n              </Link>\n              <div className=\"hidden md:flex items-center ml-8 space-x-1\">\n                {filteredNav.map((item) => {\n                  const isActive = pathname.startsWith(item.href);\n                  return (\n                    <Link\n                      key={item.name}\n                      href={item.href}\n                      className={`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition ${\n                        isActive\n                          ? \"bg-primary-50 text-primary-700\"\n                          : \"text-gray-600 hover:bg-gray-100\"\n                      }`}\n                    >\n                      <item.icon size={18} />\n                      {item.name}\n                    </Link>\n                  );\n                })}\n              </div>\n            </div>\n\n            <div className=\"flex items-center gap-4\">\n              <div className=\"relative\" ref={dropdownRef}>\n                <button\n                  onClick={() => setShowDropdown(!showDropdown)}\n                  className=\"flex items-center gap-2 p-2 rounded-lg hover:bg-gray-100 transition\"\n                >\n                  <div className=\"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center\">\n                    {user?.profile_picture ? (\n                      <img\n                        src={user.profile_picture}\n                        alt=\"\"\n                        className=\"w-8 h-8 rounded-full object-cover\"\n                      />\n                    ) : (\n                      <span className=\"text-sm font-medium text-primary-700\">\n                        {user?.first_name?.[0]}\n                        {user?.last_name?.[0]}\n                      </span>\n                    )}\n                  </div>\n                  <span className=\"hidden sm:block text-sm font-medium text-gray-700\">\n                    {user?.first_name} {user?.last_name}\n                  </span>\n                  <ChevronDown size={16} className=\"text-gray-400\" />\n                </button>\n\n                {showDropdown && (\n                  <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\">\n                    <Link\n                      href=\"/profile\"\n                      onClick={() => setShowDropdown(false)}\n                      className=\"flex items-center gap-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n                    >\n                      <User size={16} />\n                      My Profile\n                    </Link>\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-gray-100 w-full\"\n                    >\n                      <LogOut size={16} />\n                      Log Out\n                    </button>\n                  </div>\n                )}\n              </div>\n\n              <button\n                onClick={() => setShowMobileMenu(!showMobileMenu)}\n                className=\"md:hidden p-2 rounded-lg hover:bg-gray-100\"\n              >\n                {showMobileMenu ? <X size={24} /> : <Menu size={24} />}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {showMobileMenu && (\n          <div className=\"md:hidden border-t border-gray-200 bg-white\">\n            <div className=\"px-4 py-2 space-y-1\">\n              {filteredNav.map((item) => {\n                const isActive = pathname.startsWith(item.href);\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    onClick={() => setShowMobileMenu(false)}\n                    className={`flex items-center gap-2 px-4 py-3 rounded-lg text-sm font-medium ${\n                      isActive\n                        ? \"bg-primary-50 text-primary-700\"\n                        : \"text-gray-600\"\n                    }`}\n                  >\n                    <item.icon size={18} />\n                    {item.name}\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </nav>\n\n      <main className=\"pt-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///F:/Projects/Odoo_Hackathon_Human_Resource_Management_System/src/components/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\n\nexport function ProtectedRoute({\n  children,\n  requireAdmin = false,\n}: {\n  children: React.ReactNode;\n  requireAdmin?: boolean;\n}) {\n  const { user, loading } = useAuth();\n  const router = useRouter();\n\n  useEffect(() => {\n    if (!loading) {\n      if (!user) {\n        router.push(\"/\");\n      } else if (user.must_change_password) {\n        router.push(\"/change-password\");\n      } else if (requireAdmin && user.role !== \"admin\" && user.role !== \"hr\") {\n        router.push(\"/employees\");\n      }\n    }\n  }, [user, loading, router, requireAdmin]);\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return null;\n  }\n\n  if (requireAdmin && user.role !== \"admin\" && user.role !== \"hr\") {\n    return null;\n  }\n\n  return <>{children}</>;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMO,SAAS,eAAe,KAM9B;QAN8B,EAC7B,QAAQ,EACR,eAAe,KAAK,EAIrB,GAN8B;;IAO7B,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,6JAAO;IACjC,MAAM,SAAS,IAAA,kJAAS;IAExB,IAAA,0KAAS;oCAAC;YACR,IAAI,CAAC,SAAS;gBACZ,IAAI,CAAC,MAAM;oBACT,OAAO,IAAI,CAAC;gBACd,OAAO,IAAI,KAAK,oBAAoB,EAAE;oBACpC,OAAO,IAAI,CAAC;gBACd,OAAO,IAAI,gBAAgB,KAAK,IAAI,KAAK,WAAW,KAAK,IAAI,KAAK,MAAM;oBACtE,OAAO,IAAI,CAAC;gBACd;YACF;QACF;mCAAG;QAAC;QAAM;QAAS;QAAQ;KAAa;IAExC,IAAI,SAAS;QACX,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,MAAM;QACT,OAAO;IACT;IAEA,IAAI,gBAAgB,KAAK,IAAI,KAAK,WAAW,KAAK,IAAI,KAAK,MAAM;QAC/D,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GAvCgB;;QAOY,6JAAO;QAClB,kJAAS;;;KARV","debugId":null}},
    {"offset": {"line": 476, "column": 0}, "map": {"version":3,"sources":["file:///F:/Projects/Odoo_Hackathon_Human_Resource_Management_System/src/app/employees/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { DashboardLayout } from \"@/components/DashboardLayout\";\nimport { ProtectedRoute } from \"@/components/ProtectedRoute\";\nimport { useAuth } from \"@/components/providers/AuthProvider\";\nimport { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\nimport { Search, Plus, Plane, Circle } from \"lucide-react\";\nimport type { Employee, Attendance } from \"@/lib/types\";\n\nexport default function EmployeesPage() {\n  const { user } = useAuth();\n  const [employees, setEmployees] = useState<Employee[]>([]);\n  const [todayAttendance, setTodayAttendance] = useState<Record<string, Attendance>>({});\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [loading, setLoading] = useState(true);\n  const [showAddModal, setShowAddModal] = useState(false);\n\n  const isAdminOrHR = user?.role === \"admin\" || user?.role === \"hr\";\n\n  useEffect(() => {\n    fetchEmployees();\n    fetchTodayAttendance();\n  }, []);\n\n  const fetchEmployees = async () => {\n    try {\n      const res = await fetch(\"/api/employees\");\n      const data = await res.json();\n      setEmployees(data.employees || []);\n    } catch (error) {\n      console.error(\"Failed to fetch employees:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchTodayAttendance = async () => {\n    try {\n      const today = new Date().toISOString().split(\"T\")[0];\n      const res = await fetch(`/api/attendance?date=${today}`);\n      const data = await res.json();\n      const attendanceMap: Record<string, Attendance> = {};\n      (data.attendance || []).forEach((a: Attendance) => {\n        attendanceMap[a.employee_id] = a;\n      });\n      setTodayAttendance(attendanceMap);\n    } catch (error) {\n      console.error(\"Failed to fetch attendance:\", error);\n    }\n  };\n\n  const filteredEmployees = employees.filter(\n    (emp) =>\n      emp.first_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      emp.last_name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      emp.department?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n      emp.designation?.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const getStatusIndicator = (employeeId: string) => {\n    const attendance = todayAttendance[employeeId];\n    if (!attendance) {\n      return <Circle className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" title=\"Absent\" />;\n    }\n    if (attendance.status === \"leave\") {\n      return <Plane className=\"w-4 h-4 text-blue-500\" title=\"On Leave\" />;\n    }\n    if (attendance.status === \"present\" || attendance.check_in) {\n      return <Circle className=\"w-3 h-3 fill-green-500 text-green-500\" title=\"Present\" />;\n    }\n    return <Circle className=\"w-3 h-3 fill-yellow-400 text-yellow-400\" title=\"Absent\" />;\n  };\n\n  return (\n    <ProtectedRoute>\n      <DashboardLayout>\n        <div className=\"space-y-6\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <h1 className=\"text-2xl font-bold text-gray-900\">Employees</h1>\n            <div className=\"flex items-center gap-3\">\n              <div className=\"relative flex-1 sm:flex-none\">\n                <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\" size={18} />\n                <input\n                  type=\"text\"\n                  placeholder=\"Search employees...\"\n                  value={searchQuery}\n                  onChange={(e) => setSearchQuery(e.target.value)}\n                  className=\"w-full sm:w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n                />\n              </div>\n              {isAdminOrHR && (\n                <button\n                  onClick={() => setShowAddModal(true)}\n                  className=\"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition\"\n                >\n                  <Plus size={18} />\n                  <span className=\"hidden sm:inline\">Add Employee</span>\n                </button>\n              )}\n            </div>\n          </div>\n\n          {loading ? (\n            <div className=\"flex justify-center py-12\">\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600\"></div>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\n              {filteredEmployees.map((employee) => (\n                <Link\n                  key={employee.id}\n                  href={`/employees/${employee.id}`}\n                  className=\"bg-white rounded-xl border border-gray-200 p-4 hover:shadow-lg transition group\"\n                >\n                  <div className=\"flex items-start gap-4\">\n                    <div className=\"relative\">\n                      <div className=\"w-14 h-14 bg-primary-100 rounded-full flex items-center justify-center\">\n                        {employee.profile_picture ? (\n                          <img\n                            src={employee.profile_picture}\n                            alt=\"\"\n                            className=\"w-14 h-14 rounded-full object-cover\"\n                          />\n                        ) : (\n                          <span className=\"text-lg font-medium text-primary-700\">\n                            {employee.first_name[0]}\n                            {employee.last_name[0]}\n                          </span>\n                        )}\n                      </div>\n                      <div className=\"absolute -bottom-1 -right-1 bg-white rounded-full p-0.5\">\n                        {getStatusIndicator(employee.id)}\n                      </div>\n                    </div>\n                    <div className=\"flex-1 min-w-0\">\n                      <h3 className=\"font-semibold text-gray-900 truncate group-hover:text-primary-600\">\n                        {employee.first_name} {employee.last_name}\n                      </h3>\n                      <p className=\"text-sm text-gray-500 truncate\">\n                        {employee.designation || \"No designation\"}\n                      </p>\n                      <p className=\"text-xs text-gray-400 truncate mt-1\">\n                        {employee.department || \"No department\"}\n                      </p>\n                    </div>\n                  </div>\n                </Link>\n              ))}\n            </div>\n          )}\n\n          {!loading && filteredEmployees.length === 0 && (\n            <div className=\"text-center py-12\">\n              <p className=\"text-gray-500\">No employees found</p>\n            </div>\n          )}\n        </div>\n\n        {showAddModal && (\n          <AddEmployeeModal\n            onClose={() => setShowAddModal(false)}\n            onSuccess={() => {\n              setShowAddModal(false);\n              fetchEmployees();\n            }}\n          />\n        )}\n      </DashboardLayout>\n    </ProtectedRoute>\n  );\n}\n\nfunction AddEmployeeModal({\n  onClose,\n  onSuccess,\n}: {\n  onClose: () => void;\n  onSuccess: () => void;\n}) {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    first_name: \"\",\n    last_name: \"\",\n    department: \"\",\n    designation: \"\",\n    joining_date: new Date().toISOString().split(\"T\")[0],\n    role: \"employee\",\n    phone: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [credentials, setCredentials] = useState<{ loginId: string; tempPassword: string } | null>(null);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError(\"\");\n\n    try {\n      const res = await fetch(\"/api/employees\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n\n      const data = await res.json();\n\n      if (!res.ok) {\n        throw new Error(data.error || \"Failed to create employee\");\n      }\n\n      setCredentials(data.credentials);\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Failed to create employee\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (credentials) {\n    return (\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n        <div className=\"bg-white rounded-xl max-w-md w-full p-6\">\n          <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Employee Created!</h2>\n          <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n            <p className=\"text-sm text-green-800 mb-2\">Share these credentials with the employee:</p>\n            <div className=\"space-y-2\">\n              <div>\n                <span className=\"text-xs text-green-600\">Login ID:</span>\n                <p className=\"font-mono font-bold text-green-900\">{credentials.loginId}</p>\n              </div>\n              <div>\n                <span className=\"text-xs text-green-600\">Temporary Password:</span>\n                <p className=\"font-mono font-bold text-green-900\">{credentials.tempPassword}</p>\n              </div>\n            </div>\n          </div>\n          <p className=\"text-xs text-gray-500 mb-4\">\n            The employee will be required to change their password on first login.\n          </p>\n          <button\n            onClick={onSuccess}\n            className=\"w-full bg-primary-600 text-white py-2 rounded-lg hover:bg-primary-700 transition\"\n          >\n            Done\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto\">\n        <h2 className=\"text-xl font-bold text-gray-900 mb-4\">Add New Employee</h2>\n\n        {error && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm mb-4\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                First Name *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.first_name}\n                onChange={(e) => setFormData({ ...formData, first_name: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Last Name *\n              </label>\n              <input\n                type=\"text\"\n                value={formData.last_name}\n                onChange={(e) => setFormData({ ...formData, last_name: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n                required\n              />\n            </div>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Email *\n            </label>\n            <input\n              type=\"email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n              required\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Phone\n            </label>\n            <input\n              type=\"tel\"\n              value={formData.phone}\n              onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Department\n              </label>\n              <input\n                type=\"text\"\n                value={formData.department}\n                onChange={(e) => setFormData({ ...formData, department: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Designation\n              </label>\n              <input\n                type=\"text\"\n                value={formData.designation}\n                onChange={(e) => setFormData({ ...formData, designation: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n              />\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Joining Date *\n              </label>\n              <input\n                type=\"date\"\n                value={formData.joining_date}\n                onChange={(e) => setFormData({ ...formData, joining_date: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n                required\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                Role *\n              </label>\n              <select\n                value={formData.role}\n                onChange={(e) => setFormData({ ...formData, role: e.target.value })}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none\"\n              >\n                <option value=\"employee\">Employee</option>\n                <option value=\"hr\">HR Officer</option>\n                <option value=\"admin\">Admin</option>\n              </select>\n            </div>\n          </div>\n\n          <div className=\"flex gap-3 pt-4\">\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition\"\n            >\n              Cancel\n            </button>\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition disabled:opacity-50\"\n            >\n              {loading ? \"Creating...\" : \"Create Employee\"}\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}